<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Burtu spēle</title>
</head>
<body>
    <ul>
        <li><a href="noteikumi.html">Noteikumi</a></li>
        <li><a href="rezultati.html">Rezultāti</a></li>
    </ul>
    
    <p>
        <button onclick="Par_autoru()">Par autoru</button>
    </p>

    <hr/>
    <p>Izvēlies burtu skaitu:</p>

    <select id='izvele'>
        <option value="4">4 burti</option>
        <option value="10">10 burti</option>
    </select>

    <button onclick="generet()">Ģenerēt vārdu</button>

    <div id="spele"></div>

    <script>
        let vards = "";
        let vardi4   = ['koks','kāja', 'labs','lini', 'logs', 'daba', 'dēls', 'egle', 'ezis', 'gads' ];
        let vardi10   = ['kartupelis', 'lakstīgala', 'varavīksne',  'basketbols',  'rakstnieks', 'Lieldienas',  'strēlnieks',  'valodnieks'];

        function generet(){
            let select = document.getElementById('izvele');
            let izvele = select.options[select.selectedIndex].value;
            let vardi = [];

            if(izvele == 4){
                vardi = vardi4;
            }else if(izvele == 10){
                vardi = vardi10;
            }

            spelesLaukums();

            let randomNr = getRandomInt(vardi.length - 1);

            vards = vardi[randomNr];

            document.getElementById("vards").innerHTML = sajaukt(vards);

        }

        function sajaukt(jVards){
            var arr = jVards.split('');           // Convert String to array
            var n = arr.length;              // Length of the array
            
            for(var i=0 ; i<n-1 ; ++i) {
              var j = getRandomInt(n);       // Get random of [0, n-1]
              
              var temp = arr[i];             // Swap arr[i] and arr[j]
              arr[i] = arr[j];
              arr[j] = temp;
            }
            
            s = arr.join('');                // Convert Array to string
            return s;                        // Return shuffled string
        }

        function getRandomInt(n) {
            return Math.floor(Math.random() * n);
          }

        function spelesLaukums(){
            let laukums = document.getElementById('spele');

            laukums.innerHTML = "<p>Sajauktais vārds:<div id='vards'></div></p><input type='text' id='atbilde'/><button onclick='parbaudit()'>Pārbaudīt</button>";
        }

        function parbaudit(){
            let atbilde = document.getElementById('atbilde').value;
            if(atbilde === vards){
                alert('Apsveicu pareizi!');
                generet();
            }else{
                alert('Mēģini vēlreiz');
            }
        }
    </script>
</body>
</html>